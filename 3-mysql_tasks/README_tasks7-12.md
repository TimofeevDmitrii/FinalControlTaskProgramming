**Задание 6. Нарисовать диаграмму, в которой есть класс родительский класс, домашние
животные и вьючные животные, в составы которых в случае домашних
животных войдут классы: собаки, кошки, хомяки, а в класс вьючные животные
войдут: Лошади, верблюды и ослы).**


![Диаграмма классов](descr_tasks_7-12/diagramOfClasses.png)

Мною была создана следующая диаграмма классов. В первую очередь это схема применима к понятию ООП и следующему заданию по созданию приложения на языке Java.
На ее основе будет создаваться и структурироваться база данных в следующих заданиях (с 7 по 12). Однако на данном этапе будут использованы не все атрибуты из диаграммы
для классов животных, а только id (имеется ввиду  уникальный id животного среди всех в питомнике),  тип,  вид, кличка, дата рождения животного, его команды. 
Все они будут присутствовать в высокоуровневой (итоговой) таблице взадании 12.Также для наполнения базы данных не будем учитывать классы Mule, Deer, Rabbit, Mouse. 

Для работы с базами данных использовался сервер **MySQL 8.0**.


**Задание 7. В подключенном MySQL репозитории создать базу данных “Друзья
человека”
Задание 8. Создать таблицы с иерархией из диаграммы в БД
Задание 9. Заполнить низкоуровневые таблицы именами(животных), командами
которые они выполняют и датами рождения**

Для выполнения этих заданий напишем sql-скрипт, а затем будем использовать его содержимое для наполнения БД.

*Для данного блока заданий внутри директории 3-mysql_tasks/ создадим директорию task7_8_9/.*

Для начала создадим отдельные таблицы для каждого вида животных. Заранее подумаем об атрибутах и наполнении таблиц. В низкоуровневой таблице 
будут атрибуты кличка, дата рождения животного, его команды (а также id для идентификации в пределах конкретной таблицы).  

Создадим в рабочей директории (*3-mysql_tasks/task7_8_9*)  текстовые файлы с наполнением для таблиц: 

- cats.txt,
- dogs.txt,
- hamsters.txt,
- donkeys.txt,
- horses.txt,
- camels.txt

В каждом из них, как например в camels.txt, будут содержаться строки вида:

```
("Sand Bump", "2022-12-22", "Лежать; Подъем; Бежать галопом; Стой"),
("Bongo", "2020-01-02", "Лежать; Подъем; Бежать галопом; Стой"),
("Han", "2021-09-24", "Лежать; Подъем; Бежать галопом; Стой"),
("Dona", "2020-01-08", "Лежать; Подъем; Бежать галопом; Стой")
```

После этого создадим в рабочей директории файл **task7_8_9.sql**, в котором будет храниться sql код. Поместим в него следующие запросы:

```
-- DROP DATABASE human_friends;
CREATE DATABASE human_friends;
USE human_friends;
```

Далее напишем небольшой скрипт в файл *script.sh* и запустим его командной строке (предварительно выделив для этого файла право на выполнение):

```
#!/bin/bash
file_result=task7_8_9.sql;
for table_name in $(ls *txt | grep -o -e "^[A-Za-z]*"); do
    echo -e "CREATE TABLE $table_name (\n\tid SERIAL PRIMARY KEY,\n\tanimal_name VARCHAR(30) NOT NULL,\n\tbirth_date DATE DEFAULT (CURRENT_DATE),\n\tcommands TEXT\n\t);\n" >> $file_result;
    echo -e "INSERT INTO $table_name (animal_name, birth_date, commands)\nVALUES" >> $file_result;
    echo -e "$(cat $table_name.txt);\n\n" >> $file_result;
done;
exit
```

В результате выполнения данного скрипта файл task7\_8\_9.sql заполняется запросами на создание низкоуровневых таблиц с их дальнейшим наполнением 
(см даннй файл в директории 3-mysql\_tasks/task7\_8\_9)
